from django.db import migrations


def seed_spare_parts(apps, schema_editor):
    Section = apps.get_model("store", "SparePartSection")
    Item = apps.get_model("store", "SparePartItem")

    data = [
        {
            "icon": "üöó",
            "title": "–î–≤–∏–≥–∞—Ç–µ–ª—å –∏ –¥–µ—Ç–∞–ª–∏ –¥–≤–∏–≥–∞—Ç–µ–ª—è",
            "description": "–û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–∏–ª–æ–≤–æ–≥–æ –∞–≥—Ä–µ–≥–∞—Ç–∞.",
            "order": 1,
            "items": [
                "–ü–æ—Ä—à–Ω–µ–≤–∞—è –≥—Ä—É–ø–ø–∞ (–ø–æ—Ä—à–Ω–∏, –∫–æ–ª—å—Ü–∞, –ø–∞–ª—å—Ü—ã)",
                "–ì–æ–ª–æ–≤–∫–∞ –±–ª–æ–∫–∞ —Ü–∏–ª–∏–Ω–¥—Ä–æ–≤ (–ì–ë–¶)",
                "–ü—Ä–æ–∫–ª–∞–¥–∫–∏ –∏ —Å–∞–ª—å–Ω–∏–∫–∏",
                "–†–µ–º–Ω–∏ –∏ —Ü–µ–ø–∏ –ì–†–ú",
                "–¢—É—Ä–±–æ–∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä—ã",
                "–ö–ª–∞–ø–∞–Ω–∞, —Ä–∞—Å–ø—Ä–µ–¥–≤–∞–ª—ã, –∫–æ–ª–µ–Ω–≤–∞–ª—ã",
                "–ú–∞—Å–ª—è–Ω—ã–µ –Ω–∞—Å–æ—Å—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã",
            ],
        },
        {
            "icon": "‚öôÔ∏è",
            "title": "–¢—Ä–∞–Ω—Å–º–∏—Å—Å–∏—è",
            "description": "–ü–µ—Ä–µ–¥–∞—á–∞ –∫—Ä—É—Ç—è—â–µ–≥–æ –º–æ–º–µ–Ω—Ç–∞.",
            "order": 2,
            "items": [
                "–°—Ü–µ–ø–ª–µ–Ω–∏–µ (–¥–∏—Å–∫, –∫–æ—Ä–∑–∏–Ω–∞, –≤—ã–∂–∏–º–Ω–æ–π –ø–æ–¥—à–∏–ø–Ω–∏–∫)",
                "–ö–æ—Ä–æ–±–∫–∞ –ø–µ—Ä–µ–¥–∞—á (–ú–ö–ü–ü, –ê–ö–ü–ü, –≤–∞—Ä–∏–∞—Ç–æ—Ä, —Ä–µ–¥—É–∫—Ç–æ—Ä)",
                "–ü—Ä–∏–≤–æ–¥—ã, –®–†–£–°—ã",
                "–ö–∞—Ä–¥–∞–Ω–Ω—ã–π –≤–∞–ª, –º—É—Ñ—Ç—ã",
                "–ü–æ–¥—à–∏–ø–Ω–∏–∫–∏ —Å—Ç—É–ø–∏—Ü",
            ],
        },
        {
            "icon": "üõû",
            "title": "–•–æ–¥–æ–≤–∞—è —á–∞—Å—Ç—å",
            "description": "–ö–æ–º—Ñ–æ—Ä—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å.",
            "order": 3,
            "items": [
                "–ê–º–æ—Ä—Ç–∏–∑–∞—Ç–æ—Ä—ã, —Å—Ç–æ–π–∫–∏",
                "–ü—Ä—É–∂–∏–Ω—ã –ø–æ–¥–≤–µ—Å–∫–∏",
                "–†—ã—á–∞–≥–∏ –∏ —à–∞—Ä–æ–≤—ã–µ –æ–ø–æ—Ä—ã",
                "–°–∞–π–ª–µ–Ω—Ç–±–ª–æ–∫–∏",
                "–ü–æ–¥—à–∏–ø–Ω–∏–∫–∏",
                "–°—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä—ã, –≤—Ç—É–ª–∫–∏ –∏ —Ç—è–≥–∏",
            ],
        },
        {
            "icon": "üõë",
            "title": "–¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞",
            "description": "–£–≤–µ—Ä–µ–Ω–Ω–æ–µ –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –∏ —Ñ–∏–∫—Å–∞—Ü–∏—è.",
            "order": 4,
            "items": [
                "–¢–æ—Ä–º–æ–∑–Ω—ã–µ –∫–æ–ª–æ–¥–∫–∏ –∏ –¥–∏—Å–∫–∏",
                "–°—É–ø–ø–æ—Ä—Ç—ã",
                "–ì–ª–∞–≤–Ω—ã–π —Ç–æ—Ä–º–æ–∑–Ω–æ–π —Ü–∏–ª–∏–Ω–¥—Ä",
                "–¢–æ—Ä–º–æ–∑–Ω—ã–µ —à–ª–∞–Ω–≥–∏ –∏ —Ç—Ä—É–±–∫–∏",
                "–°—Ç–æ—è–Ω–æ—á–Ω—ã–π —Ç–æ—Ä–º–æ–∑ (—Ç—Ä–æ—Å, –º–µ—Ö–∞–Ω–∏–∑–º)",
            ],
        },
        {
            "icon": "‚ö°",
            "title": "–≠–ª–µ–∫—Ç—Ä–æ–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ",
            "description": "–ü–∏—Ç–∞–Ω–∏–µ –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è.",
            "order": 5,
            "items": [
                "–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä—ã",
                "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∏ —Å—Ç–∞—Ä—Ç–µ—Ä—ã",
                "–î–∞—Ç—á–∏–∫–∏ (ABS, –∫–∏—Å–ª–æ—Ä–æ–¥–Ω—ã–π, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π –∏ —Ç. –¥.)",
                "–°–≤–µ—á–∏ –∑–∞–∂–∏–≥–∞–Ω–∏—è –∏ –Ω–∞–∫–∞–ª–∞",
                "–†–µ–ª–µ, –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª–∏",
                "–§–∞—Ä—ã, –ª–∞–º–ø—ã, –ø—Ä–æ–≤–æ–¥–∫–∞",
            ],
        },
    ]

    for section_data in data:
        section, _ = Section.objects.get_or_create(
            title=section_data["title"],
            defaults={
                "icon": section_data["icon"],
                "description": section_data["description"],
                "order": section_data["order"],
            },
        )
        for idx, item_name in enumerate(section_data["items"], start=1):
            Item.objects.get_or_create(
                section=section,
                name=item_name,
                defaults={"order": idx},
            )


def remove_seed(apps, schema_editor):
    Section = apps.get_model("store", "SparePartSection")
    titles = [
        "–î–≤–∏–≥–∞—Ç–µ–ª—å –∏ –¥–µ—Ç–∞–ª–∏ –¥–≤–∏–≥–∞—Ç–µ–ª—è",
        "–¢—Ä–∞–Ω—Å–º–∏—Å—Å–∏—è",
        "–•–æ–¥–æ–≤–∞—è —á–∞—Å—Ç—å",
        "–¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞",
        "–≠–ª–µ–∫—Ç—Ä–æ–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ",
    ]
    Section.objects.filter(title__in=titles).delete()


class Migration(migrations.Migration):

    dependencies = [
        ("store", "0012_sparepartsection_sparepartitem"),
    ]

    operations = [
        migrations.RunPython(seed_spare_parts, remove_seed),
    ]
